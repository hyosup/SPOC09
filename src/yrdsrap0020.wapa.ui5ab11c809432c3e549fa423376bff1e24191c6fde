sap.ui.define(                                                                                                                                                                                                                                                 
  [                                                                                                                                                                                                                                                            
    "sap/ui/core/mvc/Controller",                                                                                                                                                                                                                              
    "sap/ui/model/json/JSONModel",                                                                                                                                                                                                                             
    "sap/ui/core/Fragment",                                                                                                                                                                                                                                    
    "sap/m/MessageToast",                                                                                                                                                                                                                                      
    "sap/ui/core/message/MessageManager",                                                                                                                                                                                                                      
    "sap/ui/core/message/Message",                                                                                                                                                                                                                             
    "sap/ui/core/MessageType",                                                                                                                                                                                                                                 
    "sap/m/Token",                                                                                                                                                                                                                                             
    "sap/m/MessageBox",                                                                                                                                                                                                                                        
    "sap/ui/comp/valuehelpdialog/ValueHelpRangeOperation",                                                                                                                                                                                                     
    "sap/ui/model/FilterOperator",                                                                                                                                                                                                                             
    "sap/ui/model/Filter",                                                                                                                                                                                                                                     
    "sap/m/ColumnListItem",                                                                                                                                                                                                                                    
  ],                                                                                                                                                                                                                                                           
  /**                                                                                                                                                                                                                                                          
   * @param {typeof sap.ui.core.mvc.Controller} Controller                                                                                                                                                                                                     
   */                                                                                                                                                                                                                                                          
  function (                                                                                                                                                                                                                                                   
    Controller,                                                                                                                                                                                                                                                
    JSONModel,                                                                                                                                                                                                                                                 
    Fragment,                                                                                                                                                                                                                                                  
    MessageToast,                                                                                                                                                                                                                                              
    MessageManager,                                                                                                                                                                                                                                            
    Message,                                                                                                                                                                                                                                                   
    MessageType,                                                                                                                                                                                                                                               
    Token,                                                                                                                                                                                                                                                     
    MessageBox,                                                                                                                                                                                                                                                
    ValueHelpRangeOperation,                                                                                                                                                                                                                                   
    FilterOperator,                                                                                                                                                                                                                                            
    Filter,                                                                                                                                                                                                                                                    
    ColumnListItem                                                                                                                                                                                                                                             
  ) {                                                                                                                                                                                                                                                          
    "use strict";                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
    return Controller.extend("com.rds.rap.yrdsrap0020.controller.Main", {                                                                                                                                                                                      
      /**************************************************************                                                                                                                                                                                          
       * Life Cycle                                                                                                                                                                                                                                            
       *************************************************************/                                                                                                                                                                                          
      onInit: function () {                                                                                                                                                                                                                                    
        /*------------------------------------------------                                                                                                                                                                                                     
         * Selected Model Settings                                                                                                                                                                                                                             
         *------------------------------------------------*/                                                                                                                                                                                                   
        var oSelected = {                                                                                                                                                                                                                                      
          IsRowSelected: false,                                                                                                                                                                                                                                
          bBusy: false,                                                                                                                                                                                                                                        
          oItems: [],                                                                                                                                                                                                                                          
          sState: "Success",                                                                                                                                                                                                                                   
          status: "",                                                                                                                                                                                                                                          
          statusDes: "",                                                                                                                                                                                                                                       
        };                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
        var oSelectedModel = new JSONModel(oSelected);                                                                                                                                                                                                         
        this.getView().setModel(oSelectedModel, "selected");                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
        /*------------------------------------------------                                                                                                                                                                                                     
         * Message Manager Setting                                                                                                                                                                                                                             
         *------------------------------------------------*/                                                                                                                                                                                                   
        this.repriceMessageManager = new MessageManager();                                                                                                                                                                                                     
        this.getView().setModel(                                                                                                                                                                                                                               
          this.repriceMessageManager.getMessageModel(),                                                                                                                                                                                                        
          "repriceMessage"                                                                                                                                                                                                                                     
        );                                                                                                                                                                                                                                                     
        this.repriceMessageManager.registerObject(this.getView(), true);                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
        this.rejectMessageManager = new MessageManager();                                                                                                                                                                                                      
        this.getView().setModel(                                                                                                                                                                                                                               
          this.rejectMessageManager.getMessageModel(),                                                                                                                                                                                                         
          "rejectMessage"                                                                                                                                                                                                                                      
        );                                                                                                                                                                                                                                                     
        this.rejectMessageManager.registerObject(this.getView(), true);                                                                                                                                                                                        
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /**************************************************************                                                                                                                                                                                          
       * Event Handler                                                                                                                                                                                                                                         
       *************************************************************/                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * main view functions                                                                                                                                                                                                                                   
       *------------------------------------------------*/                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
      /** main view 전체 거절 button */                                                                                                                                                                                                                            
      onPressRejectAll: function (oEvent) {                                                                                                                                                                                                                    
        var oView = this.getView();                                                                                                                                                                                                                            
        var self = this;                                                                                                                                                                                                                                       
        if (!this.getView().byId("dialogRejectAll")) {                                                                                                                                                                                                         
          Fragment.load({                                                                                                                                                                                                                                      
            id: oView.getId(),                                                                                                                                                                                                                                 
            name: "com.rds.rap.yrdsrap0020.view.popup.RejectAll",                                                                                                                                                                                              
            controller: self,                                                                                                                                                                                                                                  
          }).then(                                                                                                                                                                                                                                             
            function (oDialog) {                                                                                                                                                                                                                               
              oView.addDependent(oDialog);                                                                                                                                                                                                                     
              oDialog.open();                                                                                                                                                                                                                                  
            }.bind(this)                                                                                                                                                                                                                                       
          );                                                                                                                                                                                                                                                   
        } else {                                                                                                                                                                                                                                               
          this.getView().byId("dialogRejectAll").open();                                                                                                                                                                                                       
        }                                                                                                                                                                                                                                                      
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /** main view 가격 재결정 button */                                                                                                                                                                                                                           
      onPressReprice: function (oEvent) {                                                                                                                                                                                                                      
        var oView = this.getView();                                                                                                                                                                                                                            
        var self = this;                                                                                                                                                                                                                                       
        if (!this.getView().byId("dialogReprice")) {                                                                                                                                                                                                           
          Fragment.load({                                                                                                                                                                                                                                      
            id: oView.getId(),                                                                                                                                                                                                                                 
            name: "com.rds.rap.yrdsrap0020.view.popup.Reprice",                                                                                                                                                                                                
            controller: self,                                                                                                                                                                                                                                  
          }).then(                                                                                                                                                                                                                                             
            function (oDialog) {                                                                                                                                                                                                                               
              oView.addDependent(oDialog);                                                                                                                                                                                                                     
              oDialog.open();                                                                                                                                                                                                                                  
            }.bind(this)                                                                                                                                                                                                                                       
          );                                                                                                                                                                                                                                                   
        } else {                                                                                                                                                                                                                                               
          this.getView().byId("dialogReprice").open();                                                                                                                                                                                                         
        }                                                                                                                                                                                                                                                      
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /** main view 선택된 행 있는지 확인 */                                                                                                                                                                                                                            
      onSelectionChangeMain: function () {                                                                                                                                                                                                                     
        var oTable = this.byId("tbMain");                                                                                                                                                                                                                      
        var oSelectedModel = this.getView().getModel("selected");                                                                                                                                                                                              
        if (oTable.getSelectedItems().length) {                                                                                                                                                                                                                
          oSelectedModel.setProperty("/IsRowSelected", true);                                                                                                                                                                                                  
        } else {                                                                                                                                                                                                                                               
          oSelectedModel.setProperty("/IsRowSelected", false);                                                                                                                                                                                                 
        }                                                                                                                                                                                                                                                      
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * RejectAll functions                                                                                                                                                                                                                                   
       *------------------------------------------------*/                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
      /** RejectAll Action */                                                                                                                                                                                                                                  
      onRejectAll: function () {                                                                                                                                                                                                                               
        var oView = this.getView();                                                                                                                                                                                                                            
        oView.getModel("selected").setProperty("/bBusy", true);                                                                                                                                                                                                
        var oRejectReason = this.getView().byId("InputReject").getValue();                                                                                                                                                                                     
        var oModel = this.getView().getModel();                                                                                                                                                                                                                
        var oMessageModel = this.getView().getModel("rejectMessage");                                                                                                                                                                                          
        var aParameters = this.byId("tbMain")                                                                                                                                                                                                                  
          .getSelectedItems()                                                                                                                                                                                                                                  
          .map(function (oItem) {                                                                                                                                                                                                                              
            return {                                                                                                                                                                                                                                           
              SalesOrder: oItem.getBindingContext().getProperty("SalesOrder"),                                                                                                                                                                                 
              rejectReason: oRejectReason,                                                                                                                                                                                                                     
            };                                                                                                                                                                                                                                                 
          });                                                                                                                                                                                                                                                  
        var aOrders = _.map(aParameters, _.property("SalesOrder"));                                                                                                                                                                                            
        var aMessageForm = [];                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
        if (oRejectReason !== "") {                                                                                                                                                                                                                            
          oModel.setDeferredGroups(                                                                                                                                                                                                                            
            oModel.getDeferredGroups().concat(["rejectFunction"])                                                                                                                                                                                              
          );                                                                                                                                                                                                                                                   
          //  for (var i = 0; i < oParameters.length; i++) {                                                                                                                                                                                                   
          aParameters.forEach(function (oParameter, i) {                                                                                                                                                                                                       
            oModel.callFunction("/RejectAll", {                                                                                                                                                                                                                
              method: "POST",                                                                                                                                                                                                                                  
              urlParameters: oParameter,                                                                                                                                                                                                                       
              groupId: "rejectFunction",                                                                                                                                                                                                                       
              changeSetId: i,                                                                                                                                                                                                                                  
            });                                                                                                                                                                                                                                                
          }, this);                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
          oModel.submitChanges({                                                                                                                                                                                                                               
            groupId: "rejectFunction",                                                                                                                                                                                                                         
            success: function (oReturn) {                                                                                                                                                                                                                      
              this.getView().byId("dialogRejectAll").close();                                                                                                                                                                                                  
              oModel.refresh();                                                                                                                                                                                                                                
              aMessageForm = this.resultMessageForm(                                                                                                                                                                                                           
                oReturn,                                                                                                                                                                                                                                       
                aOrders,                                                                                                                                                                                                                                       
                oMessageModel                                                                                                                                                                                                                                  
              );                                                                                                                                                                                                                                               
              this.openRejectResultDialog(aMessageForm, oView);                                                                                                                                                                                                
            }.bind(this),                                                                                                                                                                                                                                      
            error: function (oError) {                                                                                                                                                                                                                         
              this.getView().byId("dialogRejectAll").close();                                                                                                                                                                                                  
              aMessageForm = this.resultMessageForm(                                                                                                                                                                                                           
                oError,                                                                                                                                                                                                                                        
                aOrders,                                                                                                                                                                                                                                       
                oMessageModel                                                                                                                                                                                                                                  
              );                                                                                                                                                                                                                                               
              this.openRejectResultDialog(aMessageForm, oView);                                                                                                                                                                                                
            }.bind(this),                                                                                                                                                                                                                                      
          });                                                                                                                                                                                                                                                  
        } else {                                                                                                                                                                                                                                               
          aMessageForm = this.rejectReasonEmptyMessage(aOrders);                                                                                                                                                                                               
          this.openRejectResultDialog(aMessageForm, oView);                                                                                                                                                                                                    
        }                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
        this.getView().getModel("selected").setProperty("/bBusy", false);                                                                                                                                                                                      
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /** RejectAll ValueHelp */                                                                                                                                                                                                                               
      onRejectReasonVH: function () {                                                                                                                                                                                                                          
        var oView = this.getView();                                                                                                                                                                                                                            
        var self = this;                                                                                                                                                                                                                                       
        var oSelectedModel = oView.getModel("selected");                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
        var oColModel = new JSONModel({                                                                                                                                                                                                                        
          cols: [                                                                                                                                                                                                                                              
            {                                                                                                                                                                                                                                                  
              label: oView.getModel("i18n").getProperty("fdRejectAllReason"),                                                                                                                                                                                  
              template: "Status",                                                                                                                                                                                                                              
              width: "6rem",                                                                                                                                                                                                                                   
            },                                                                                                                                                                                                                                                 
            {                                                                                                                                                                                                                                                  
              label: oView.getModel("i18n").getProperty("fdDescription"),                                                                                                                                                                                      
              template: "StatusDesc",                                                                                                                                                                                                                          
              width: "20rem",                                                                                                                                                                                                                                  
            },                                                                                                                                                                                                                                                 
          ],                                                                                                                                                                                                                                                   
        });                                                                                                                                                                                                                                                    
        if (!this.getView().byId("vhDialogRejectReason")) {                                                                                                                                                                                                    
          Fragment.load({                                                                                                                                                                                                                                      
            id: oView.getId(),                                                                                                                                                                                                                                 
            name: "com.rds.rap.yrdsrap0020.view.VH.RejectReasonVH",                                                                                                                                                                                            
            controller: self,                                                                                                                                                                                                                                  
          }).then(                                                                                                                                                                                                                                             
            function (oDialog) {                                                                                                                                                                                                                               
              oView.addDependent(oDialog);                                                                                                                                                                                                                     
              this.initMIReject();                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
              oDialog.setKey("Status");                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
              /** setting valuehelp table */                                                                                                                                                                                                                   
              oDialog.getTableAsync().then(function (oTable) {                                                                                                                                                                                                 
                //oDialog.setTable(oTable);                                                                                                                                                                                                                    
                oTable.setModel(oView.getModel());                                                                                                                                                                                                             
                oTable.setModel(oColModel, "columns");                                                                                                                                                                                                         
                oTable.setVisibleRowCount(7);                                                                                                                                                                                                                  
                /** updating rejectAll status value when row selected  */                                                                                                                                                                                      
                // oTable.attachRowSelectionChange(function (oEvent) {                                                                                                                                                                                         
                //   self.onRowSelectionChangeRejRsn(oEvent);                                                                                                                                                                                                  
                // });                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                /** set sortProperty to each column */                                                                                                                                                                                                         
                oTable.getColumns().forEach(function (oColumn, i) {                                                                                                                                                                                            
                  oColumn.setProperty(                                                                                                                                                                                                                         
                    "sortProperty",                                                                                                                                                                                                                            
                    oColModel.oData.cols[i].template                                                                                                                                                                                                           
                  );                                                                                                                                                                                                                                           
                });                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                /** PC */                                                                                                                                                                                                                                      
                if (oTable.bindRows) {                                                                                                                                                                                                                         
                  oTable.bindAggregation("rows", {                                                                                                                                                                                                             
                    path: "/Z_VH_REJECTREASON",                                                                                                                                                                                                                
                    events: {                                                                                                                                                                                                                                  
                      dataReceived: function () {                                                                                                                                                                                                              
                        oDialog.update();                                                                                                                                                                                                                      
                      },                                                                                                                                                                                                                                       
                    },                                                                                                                                                                                                                                         
                  });                                                                                                                                                                                                                                          
                }                                                                                                                                                                                                                                              
                /** mobile */                                                                                                                                                                                                                                  
                if (oTable.bindItems) {                                                                                                                                                                                                                        
                  oTable.bindAggregation(                                                                                                                                                                                                                      
                    "items",                                                                                                                                                                                                                                   
                    "/Z_VH_REJECTREASON",                                                                                                                                                                                                                      
                    function () {                                                                                                                                                                                                                              
                      return new ColumnListItem({                                                                                                                                                                                                              
                        cells: aCols.map(function (column) {                                                                                                                                                                                                   
                          return new Label({                                                                                                                                                                                                                   
                            text: "{" + column.template + "}",                                                                                                                                                                                                 
                          });                                                                                                                                                                                                                                  
                        }),                                                                                                                                                                                                                                    
                      });                                                                                                                                                                                                                                      
                    }                                                                                                                                                                                                                                          
                  );                                                                                                                                                                                                                                           
                }                                                                                                                                                                                                                                              
              });                                                                                                                                                                                                                                              
              oDialog.setTokens([]);                                                                                                                                                                                                                           
              oDialog.update();                                                                                                                                                                                                                                
              oDialog.open();                                                                                                                                                                                                                                  
            }.bind(this)                                                                                                                                                                                                                                       
          );                                                                                                                                                                                                                                                   
        } else {                                                                                                                                                                                                                                               
          this.getView().byId("vhDialogRejectReason").open();                                                                                                                                                                                                  
        }                                                                                                                                                                                                                                                      
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /** RejectAll set Input Data with selected row from RejectReasonVH */                                                                                                                                                                                    
      onSelectionChangeRejRsnVH: function (oEvent) {                                                                                                                                                                                                           
        console.log(this);                                                                                                                                                                                                                                     
        console.log(oEvent);                                                                                                                                                                                                                                   
        var aTokens = oEvent.getParameter("tokens");                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
        this.getView().byId("InputReject").setValue(aTokens[0].getKey());                                                                                                                                                                                      
        this.getView().byId("vhDialogRejectReason").close();                                                                                                                                                                                                   
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /** Reason Valuehelp */                                                                                                                                                                                                                                  
      onReasonVH: function (oEvent) {                                                                                                                                                                                                                          
        var oView = this.getView();                                                                                                                                                                                                                            
        var self = this;                                                                                                                                                                                                                                       
        Fragment.load({                                                                                                                                                                                                                                        
          id: oView.getId(),                                                                                                                                                                                                                                   
          name: "com.rds.rap.yrdsrap0020.view.VH.ReasonVH",                                                                                                                                                                                                    
          controller: self,                                                                                                                                                                                                                                    
        }).then(                                                                                                                                                                                                                                               
          function (oDialog) {                                                                                                                                                                                                                                 
            oView.addDependent(oDialog);                                                                                                                                                                                                                       
            oDialog.setRangeKeyFields([                                                                                                                                                                                                                        
              {                                                                                                                                                                                                                                                
                label: this.getView()                                                                                                                                                                                                                          
                  .getModel("i18n")                                                                                                                                                                                                                            
                  .getProperty("fdRejectAllReason"),                                                                                                                                                                                                           
                key: "Status",                                                                                                                                                                                                                                 
                type: "string",                                                                                                                                                                                                                                
              },                                                                                                                                                                                                                                               
            ]);                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
            oDialog.open();                                                                                                                                                                                                                                    
          }.bind(this)                                                                                                                                                                                                                                         
        );                                                                                                                                                                                                                                                     
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /**Reason ValueHelp ok button pressed */                                                                                                                                                                                                                 
      onReasonVHOk: function (oEvent) {                                                                                                                                                                                                                        
        var aTokens = oEvent.getParameter("tokens");                                                                                                                                                                                                           
        var oReason = this.byId("MIVHRejRsn");                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
        oReason.removeAllTokens();                                                                                                                                                                                                                             
        while (aTokens.length > 1) {                                                                                                                                                                                                                           
          aTokens = [aTokens.pop()];                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
        oReason.setTokens(aTokens);                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
        this.byId("dialogReason").close();                                                                                                                                                                                                                     
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /**Reason ValueHelp canc button pressed */                                                                                                                                                                                                               
      onReasonVHCanc: function () {                                                                                                                                                                                                                            
        this.byId("dialogReason").close();                                                                                                                                                                                                                     
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /**Destroy Reason ValueHelp dialog after close */                                                                                                                                                                                                        
      onReasonVHClose: function () {                                                                                                                                                                                                                           
        this.byId("dialogReason").destroy();                                                                                                                                                                                                                   
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /** Description Valuehelp */                                                                                                                                                                                                                             
      onDescriptionVH: function (oEvent) {                                                                                                                                                                                                                     
        var oView = this.getView();                                                                                                                                                                                                                            
        var self = this;                                                                                                                                                                                                                                       
        Fragment.load({                                                                                                                                                                                                                                        
          id: oView.getId(),                                                                                                                                                                                                                                   
          name: "com.rds.rap.yrdsrap0020.view.VH.DescriptionVH",                                                                                                                                                                                               
          controller: self,                                                                                                                                                                                                                                    
        }).then(                                                                                                                                                                                                                                               
          function (oDialog) {                                                                                                                                                                                                                                 
            oView.addDependent(oDialog);                                                                                                                                                                                                                       
            oDialog.setRangeKeyFields([                                                                                                                                                                                                                        
              {                                                                                                                                                                                                                                                
                label: this.getView()                                                                                                                                                                                                                          
                  .getModel("i18n")                                                                                                                                                                                                                            
                  .getProperty("fdDescription"),                                                                                                                                                                                                               
                key: "StatusDesc",                                                                                                                                                                                                                             
                type: "string",                                                                                                                                                                                                                                
              },                                                                                                                                                                                                                                               
            ]);                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
            oDialog.open();                                                                                                                                                                                                                                    
          }.bind(this)                                                                                                                                                                                                                                         
        );                                                                                                                                                                                                                                                     
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /**Reason ValueHelp ok button pressed */                                                                                                                                                                                                                 
      onDescriptionVHOK: function (oEvent) {                                                                                                                                                                                                                   
        var aTokens = oEvent.getParameter("tokens");                                                                                                                                                                                                           
        var oReason = this.byId("MIVHRejRsnDes");                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
        oReason.removeAllTokens();                                                                                                                                                                                                                             
        while (aTokens.length > 1) {                                                                                                                                                                                                                           
          aTokens = [aTokens.pop()];                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
        oReason.setTokens(aTokens);                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
        this.byId("dialogDescription").close();                                                                                                                                                                                                                
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /**Reason ValueHelp canc button pressed */                                                                                                                                                                                                               
      onDescriptionVHCanc: function () {                                                                                                                                                                                                                       
        this.byId("dialogDescription").close();                                                                                                                                                                                                                
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /**Destroy Reason ValueHelp dialog after close */                                                                                                                                                                                                        
      onDescriptionVHClose: function () {                                                                                                                                                                                                                      
        this.byId("dialogDescription").destroy();                                                                                                                                                                                                              
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      // onRowSelectionChangeRejRsn: function (row) {                                                                                                                                                                                                          
      //   var oSelectedModel = this.getView().getModel("selected");                                                                                                                                                                                           
      //   var rowData = this.getView()                                                                                                                                                                                                                        
      //     .getModel()                                                                                                                                                                                                                                       
      //     .getData(row.getParameters().rowContext.sPath);                                                                                                                                                                                                   
      //   //row.getParameter('rowContext').getObject()                                                                                                                                                                                                        
      //   oSelectedModel.setProperty("/status", rowData.Status);                                                                                                                                                                                              
      //   oSelectedModel.setProperty("/statusDesc", rowData.StatusDesc);                                                                                                                                                                                      
      //   this.getView().byId("vhDialogRejectReason").close();                                                                                                                                                                                                
      // },                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * Reprice fragment 가격 재결정 button                                                                                                                                                                                                                        
       *------------------------------------------------*/                                                                                                                                                                                                     
      onReprice: function () {                                                                                                                                                                                                                                 
        var oView = this.getView();                                                                                                                                                                                                                            
        oView.getModel("selected").setProperty("/bBusy", true);                                                                                                                                                                                                
        var oPricedating = this.getView().byId("repriceDP").getValue();                                                                                                                                                                                        
        var oModel = this.getView().getModel();                                                                                                                                                                                                                
        var oMessageModel = this.getView().getModel("repriceMessage");                                                                                                                                                                                         
        var aParameters = this.byId("tbMain")                                                                                                                                                                                                                  
          .getSelectedItems()                                                                                                                                                                                                                                  
          .map(function (oItem) {                                                                                                                                                                                                                              
            return {                                                                                                                                                                                                                                           
              SalesOrder: oItem.getBindingContext().getProperty("SalesOrder"),                                                                                                                                                                                 
              RepriceDate: oPricedating,                                                                                                                                                                                                                       
            };                                                                                                                                                                                                                                                 
          });                                                                                                                                                                                                                                                  
        var aOrders = _.map(aParameters, _.property("SalesOrder"));                                                                                                                                                                                            
        var aMessageForm = [];                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
        if (oPricedating !== "") {                                                                                                                                                                                                                             
          oModel.setDeferredGroups(                                                                                                                                                                                                                            
            oModel.getDeferredGroups().concat(["repriceFunction"])                                                                                                                                                                                             
          );                                                                                                                                                                                                                                                   
          //  for (var i = 0; i < oParameters.length; i++) {                                                                                                                                                                                                   
          aParameters.forEach(function (oParameter, i) {                                                                                                                                                                                                       
            oModel.callFunction("/Reprice", {                                                                                                                                                                                                                  
              method: "POST",                                                                                                                                                                                                                                  
              urlParameters: oParameter,                                                                                                                                                                                                                       
              groupId: "repriceFunction",                                                                                                                                                                                                                      
              changeSetId: i,                                                                                                                                                                                                                                  
            });                                                                                                                                                                                                                                                
          }, this);                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
          oModel.submitChanges({                                                                                                                                                                                                                               
            groupId: "repriceFunction",                                                                                                                                                                                                                        
            success: function (oReturn) {                                                                                                                                                                                                                      
              this.getView().byId("dialogReprice").close();                                                                                                                                                                                                    
              oModel.refresh();                                                                                                                                                                                                                                
              aMessageForm = this.resultMessageForm(                                                                                                                                                                                                           
                oReturn,                                                                                                                                                                                                                                       
                aOrders,                                                                                                                                                                                                                                       
                oMessageModel                                                                                                                                                                                                                                  
              );                                                                                                                                                                                                                                               
              this.openRepriceResultDialog(aMessageForm, oView);                                                                                                                                                                                               
            }.bind(this),                                                                                                                                                                                                                                      
            error: function (oError) {                                                                                                                                                                                                                         
              this.getView().byId("dialogReprice").close();                                                                                                                                                                                                    
              aMessageForm = this.resultMessageForm(                                                                                                                                                                                                           
                oError,                                                                                                                                                                                                                                        
                aOrders,                                                                                                                                                                                                                                       
                oMessageModel                                                                                                                                                                                                                                  
              );                                                                                                                                                                                                                                               
              this.openRepriceResultDialog(aMessageForm, oView);                                                                                                                                                                                               
            }.bind(this),                                                                                                                                                                                                                                      
          });                                                                                                                                                                                                                                                  
        } else {                                                                                                                                                                                                                                               
          aMessageForm = this.orderDateEmptyMessage(aOrders);                                                                                                                                                                                                  
          this.openRepriceResultDialog(aMessageForm, oView);                                                                                                                                                                                                   
        }                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
        this.getView().getModel("selected").setProperty("/bBusy", false);                                                                                                                                                                                      
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /**close functions */                                                                                                                                                                                                                                    
      onCloseRep: function () {                                                                                                                                                                                                                                
        this.getView().byId("repriceDP").setValue(null);                                                                                                                                                                                                       
        this.getView().byId("dialogReprice").close();                                                                                                                                                                                                          
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      onCloseRej: function () {                                                                                                                                                                                                                                
        this.getView().byId("dialogRejectAll").close();                                                                                                                                                                                                        
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      onCloseRepRes: function () {                                                                                                                                                                                                                             
        this.getView().byId("dialogRepriceResult").close();                                                                                                                                                                                                    
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      onCloseRejRes: function () {                                                                                                                                                                                                                             
        this.getView().byId("dialogRejectResult").close();                                                                                                                                                                                                     
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      onVHCancRejRsn: function () {                                                                                                                                                                                                                            
        this.getView().byId("vhDialogRejectReason").close();                                                                                                                                                                                                   
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * Navigation 기능                                                                                                                                                                                                                                         
       *------------------------------------------------*/                                                                                                                                                                                                     
      // SalesOrder                                                                                                                                                                                                                                            
      //-----------------------------------------------*/                                                                                                                                                                                                      
      pressLinkExternal: function (oEvent) {                                                                                                                                                                                                                   
        var oItem = oEvent.getSource().getBindingContext().getObject();                                                                                                                                                                                        
        var sSemantic = this.getCustomData(oEvent.getSource(), "Semantic");                                                                                                                                                                                    
        var sAction = this.getCustomData(oEvent.getSource(), "Action");                                                                                                                                                                                        
        var outbound = {                                                                                                                                                                                                                                       
          semanticObject: sSemantic,                                                                                                                                                                                                                           
          action: sAction,                                                                                                                                                                                                                                     
        };                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
        var oParam = this._getExternalParameter(outbound, oItem);                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
        this.onListNavigationExtension(outbound, oParam);                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
        return true;                                                                                                                                                                                                                                           
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      // SoldToParty                                                                                                                                                                                                                                           
      //-----------------------------------------------*/                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
      // CustomerCreditAccount                                                                                                                                                                                                                                 
      //-----------------------------------------------*/                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
      /**************************************************************                                                                                                                                                                                          
       * Private Method                                                                                                                                                                                                                                        
       *************************************************************/                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * Navigation Private Function                                                                                                                                                                                                                           
       *------------------------------------------------*/                                                                                                                                                                                                     
      fcNavDetail: function (oEvent) {                                                                                                                                                                                                                         
        var sSalesOrder = oEvent                                                                                                                                                                                                                               
          .getParameter("listItem")                                                                                                                                                                                                                            
          .getBindingContext()                                                                                                                                                                                                                                 
          .getObject().SalesOrder;                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
        this.getOwnerComponent().getRouter().navTo("Detail", {                                                                                                                                                                                                 
          SalesOrder: sSalesOrder,                                                                                                                                                                                                                             
        });                                                                                                                                                                                                                                                    
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      onListNavigationExtension: function (outbound, param) {                                                                                                                                                                                                  
        sap.ushell.Container.getService(                                                                                                                                                                                                                       
          "CrossApplicationNavigation"                                                                                                                                                                                                                         
        ).toExternal({                                                                                                                                                                                                                                         
          target: {                                                                                                                                                                                                                                            
            semanticObject: outbound.semanticObject,                                                                                                                                                                                                           
            action: outbound.action,                                                                                                                                                                                                                           
          },                                                                                                                                                                                                                                                   
          params: param,                                                                                                                                                                                                                                       
        });                                                                                                                                                                                                                                                    
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      getCustomData: function (control, key) {                                                                                                                                                                                                                 
        var aCustomData = control ? control.getCustomData() : [];                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
        var oCustomData = _.find(aCustomData, function (oCustomData) {                                                                                                                                                                                         
          return oCustomData.getProperty("key") === key;                                                                                                                                                                                                       
        });                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
        return oCustomData && oCustomData.getProperty("value");                                                                                                                                                                                                
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      _getExternalParameter: function (outbound, oItem) {                                                                                                                                                                                                      
        var oParam = {};                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
        if (outbound.semanticObject === "SalesOrder") {                                                                                                                                                                                                        
          oParam = {                                                                                                                                                                                                                                           
            SalesOrder: oItem.SalesOrder,                                                                                                                                                                                                                      
          };                                                                                                                                                                                                                                                   
        } else if (outbound.semanticObject === "SPOC09") {                                                                                                                                                                                                     
          if (outbound.action === "F0850A") {                                                                                                                                                                                                                  
            oParam = {                                                                                                                                                                                                                                         
              SoldToParty: oItem.SoldToParty,                                                                                                                                                                                                                  
            };                                                                                                                                                                                                                                                 
          } else if (outbound.action === "F4596") {                                                                                                                                                                                                            
            oParam = {                                                                                                                                                                                                                                         
              SoldToParty: oItem.SoldToParty,                                                                                                                                                                                                                  
            };                                                                                                                                                                                                                                                 
          }                                                                                                                                                                                                                                                    
        }                                                                                                                                                                                                                                                      
        return oParam;                                                                                                                                                                                                                                         
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * Result Message Array create                                                                                                                                                                                                                           
       *------------------------------------------------*/                                                                                                                                                                                                     
      resultMessageForm: function (oReturn, aOrders, oModel) {                                                                                                                                                                                                 
        var aList = [];                                                                                                                                                                                                                                        
        var self = this;                                                                                                                                                                                                                                       
        var aResonses = oReturn.__batchResponses;                                                                                                                                                                                                              
        aResonses.forEach(function (oResponse, i) {                                                                                                                                                                                                            
          var oResult = JSON.parse(                                                                                                                                                                                                                            
            oResponse.__changeResponses[0].headers["sap-message"]                                                                                                                                                                                              
          );                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
          if (oResult.details.length > 0) {                                                                                                                                                                                                                    
            oResult = oResult.details[0];                                                                                                                                                                                                                      
          }                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
          var oType = this.checkMessageType(oResult.severity);                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
          aList = _.concat(                                                                                                                                                                                                                                    
            aList,                                                                                                                                                                                                                                             
            [oResult].map(function (a) {                                                                                                                                                                                                                       
              return new Message({                                                                                                                                                                                                                             
                message: a.message,                                                                                                                                                                                                                            
                type: oType,                                                                                                                                                                                                                                   
                description: aOrders[i],                                                                                                                                                                                                                       
                processor: oModel,                                                                                                                                                                                                                             
              });                                                                                                                                                                                                                                              
            })                                                                                                                                                                                                                                                 
          );                                                                                                                                                                                                                                                   
        }, this);                                                                                                                                                                                                                                              
        return aList;                                                                                                                                                                                                                                          
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * open Reject Result Dialog                                                                                                                                                                                                                             
       *------------------------------------------------*/                                                                                                                                                                                                     
      openRejectResultDialog: function (aMessageForm, oView) {                                                                                                                                                                                                 
        this.rejectMessageManager.removeAllMessages();                                                                                                                                                                                                         
        this.rejectMessageManager.addMessages(aMessageForm);                                                                                                                                                                                                   
        var oType = MessageType.Success;                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
        if (_.find(aMessageForm, { type: MessageType.Warning })) {                                                                                                                                                                                             
          oType = MessageType.Warning;                                                                                                                                                                                                                         
        }                                                                                                                                                                                                                                                      
        if (_.find(aMessageForm, { type: MessageType.Error })) {                                                                                                                                                                                               
          oType = MessageType.Error;                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
        this.getView().getModel("selected").setProperty("/sState", oType);                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
        /** Fragment Loading */                                                                                                                                                                                                                                
        if (!this.getView().byId("dialogRejectResult")) {                                                                                                                                                                                                      
          Fragment.load({                                                                                                                                                                                                                                      
            id: oView.getId(),                                                                                                                                                                                                                                 
            name: "com.rds.rap.yrdsrap0020.view.popup.RejectResult",                                                                                                                                                                                           
            controller: this,                                                                                                                                                                                                                                  
          }).then(                                                                                                                                                                                                                                             
            function (oDialog) {                                                                                                                                                                                                                               
              oView.addDependent(oDialog);                                                                                                                                                                                                                     
              oDialog.open();                                                                                                                                                                                                                                  
            }.bind(this)                                                                                                                                                                                                                                       
          );                                                                                                                                                                                                                                                   
        } else {                                                                                                                                                                                                                                               
          this.getView().byId("dialogRejectResult").open();                                                                                                                                                                                                    
        }                                                                                                                                                                                                                                                      
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * Reject orderDate not setted                                                                                                                                                                                                                           
       *------------------------------------------------*/                                                                                                                                                                                                     
      rejectReasonEmptyMessage: function (aOrders) {                                                                                                                                                                                                           
        var aList = [];                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
        aOrders.forEach(function (oOrder) {                                                                                                                                                                                                                    
          aList = _.concat(aList, [                                                                                                                                                                                                                            
            new Message({                                                                                                                                                                                                                                      
              message: this.getView()                                                                                                                                                                                                                          
                .getModel("i18n")                                                                                                                                                                                                                              
                .getProperty("erEmptyReason"),                                                                                                                                                                                                                 
              type: MessageType.Error,                                                                                                                                                                                                                         
              description: oOrder,                                                                                                                                                                                                                             
            }),                                                                                                                                                                                                                                                
          ]);                                                                                                                                                                                                                                                  
        }, this);                                                                                                                                                                                                                                              
        return aList;                                                                                                                                                                                                                                          
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * open Reprice Result Dialog                                                                                                                                                                                                                            
       *------------------------------------------------*/                                                                                                                                                                                                     
      openRepriceResultDialog: function (aMessageForm, oView) {                                                                                                                                                                                                
        this.repriceMessageManager.removeAllMessages();                                                                                                                                                                                                        
        this.repriceMessageManager.addMessages(aMessageForm);                                                                                                                                                                                                  
        var oType = MessageType.Success;                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
        if (_.find(aMessageForm, { type: MessageType.Warning })) {                                                                                                                                                                                             
          oType = MessageType.Warning;                                                                                                                                                                                                                         
        }                                                                                                                                                                                                                                                      
        if (_.find(aMessageForm, { type: MessageType.Error })) {                                                                                                                                                                                               
          oType = MessageType.Error;                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
        this.getView().getModel("selected").setProperty("/sState", oType);                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
        /** Fragment Loading */                                                                                                                                                                                                                                
        if (!this.getView().byId("dialogRepriceResult")) {                                                                                                                                                                                                     
          Fragment.load({                                                                                                                                                                                                                                      
            id: oView.getId(),                                                                                                                                                                                                                                 
            name: "com.rds.rap.yrdsrap0020.view.popup.RepriceResult",                                                                                                                                                                                          
            controller: this,                                                                                                                                                                                                                                  
          }).then(                                                                                                                                                                                                                                             
            function (oDialog) {                                                                                                                                                                                                                               
              oView.addDependent(oDialog);                                                                                                                                                                                                                     
              oDialog.open();                                                                                                                                                                                                                                  
            }.bind(this)                                                                                                                                                                                                                                       
          );                                                                                                                                                                                                                                                   
        } else {                                                                                                                                                                                                                                               
          this.getView().byId("dialogRepriceResult").open();                                                                                                                                                                                                   
        }                                                                                                                                                                                                                                                      
      },                                                                                                                                                                                                                                                       
      /*------------------------------------------------                                                                                                                                                                                                       
       * Reprice orderDate not setted                                                                                                                                                                                                                          
       *------------------------------------------------*/                                                                                                                                                                                                     
      orderDateEmptyMessage: function (aOrders) {                                                                                                                                                                                                              
        var aList = [];                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
        aOrders.forEach(function (oOrder) {                                                                                                                                                                                                                    
          aList = _.concat(aList, [                                                                                                                                                                                                                            
            new Message({                                                                                                                                                                                                                                      
              message: this.getView()                                                                                                                                                                                                                          
                .getModel("i18n")                                                                                                                                                                                                                              
                .getProperty("erEmptyDate"),                                                                                                                                                                                                                   
              type: MessageType.Error,                                                                                                                                                                                                                         
              description: oOrder,                                                                                                                                                                                                                             
            }),                                                                                                                                                                                                                                                
          ]);                                                                                                                                                                                                                                                  
        }, this);                                                                                                                                                                                                                                              
        return aList;                                                                                                                                                                                                                                          
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /*------------------------------------------------                                                                                                                                                                                                       
       * MessageType format change                                                                                                                                                                                                                             
       *------------------------------------------------*/                                                                                                                                                                                                     
      checkMessageType: function (sType) {                                                                                                                                                                                                                     
        var sCapType = _.capitalize(sType);                                                                                                                                                                                                                    
        var oMessageType = MessageType.None;                                                                                                                                                                                                                   
        if (sCapType === "Success") {                                                                                                                                                                                                                          
          oMessageType = MessageType.Success;                                                                                                                                                                                                                  
        } else if (sCapType === "Error") {                                                                                                                                                                                                                     
          oMessageType = MessageType.Error;                                                                                                                                                                                                                    
        } else if (sCapType === "Warning") {                                                                                                                                                                                                                   
          oMessageType = MessageType.Warning;                                                                                                                                                                                                                  
        }                                                                                                                                                                                                                                                      
        return oMessageType;                                                                                                                                                                                                                                   
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /** MultiInput Token Validator */                                                                                                                                                                                                                        
      initMIReject: function () {                                                                                                                                                                                                                              
        var oReason = this.byId("MIVHRejRsn");                                                                                                                                                                                                                 
        var oDescription = this.byId("MIVHRejRsnDes");                                                                                                                                                                                                         
        var fnValidator = function (args) {                                                                                                                                                                                                                    
          var key = args.text;                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
          return new Token({ key: "=" + key, text: "=" + key });                                                                                                                                                                                               
        };                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
        oReason.addValidator(fnValidator);                                                                                                                                                                                                                     
        oDescription.addValidator(fnValidator);                                                                                                                                                                                                                
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      valuHelpCustomFilter_rejectAll: function (oEvent) {                                                                                                                                                                                                      
        // this._initValueHelpText_land();                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
        var oFilter = this.getView().byId("fbRejectReason");                                                                                                                                                                                                   
        var aFilters = this._valueHelpSupportRangeFilter(oFilter);                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
        this._filterValueHelpTable_rejectAll(aFilters);                                                                                                                                                                                                        
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      _filterValueHelpTable_rejectAll: function (oFilter) {                                                                                                                                                                                                    
        this.byId("vhDialogRejectReason")                                                                                                                                                                                                                      
          .getTableAsync()                                                                                                                                                                                                                                     
          .then(                                                                                                                                                                                                                                               
            function (oTable) {                                                                                                                                                                                                                                
              if (oTable.bindRows) {                                                                                                                                                                                                                           
                //		console.log(oFilter);                                                                                                                                                                                                                      
                oTable.getBinding("rows").filter(oFilter);                                                                                                                                                                                                     
              }                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
              if (oTable.bindItems) {                                                                                                                                                                                                                          
                oTable.getBinding("items").filter(oFilter);                                                                                                                                                                                                    
              }                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
              this.byId("vhDialogRejectReason").update();                                                                                                                                                                                                      
            }.bind(this)                                                                                                                                                                                                                                       
          );                                                                                                                                                                                                                                                   
      },                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
      /** filter formatting */                                                                                                                                                                                                                                 
      _valueHelpSupportRangeFilter: function (oFilterBar) {                                                                                                                                                                                                    
        var sBaicValue = oFilterBar.getBasicSearchValue();                                                                                                                                                                                                     
        var aBaicSerachFilter = [];                                                                                                                                                                                                                            
        var aFilterItemFilter = [];                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
        // Filter Items Filter                                                                                                                                                                                                                                 
        oFilterBar.getAllFilterItems().forEach(                                                                                                                                                                                                                
          function (oGroup) {                                                                                                                                                                                                                                  
            // Filter Item                                                                                                                                                                                                                                     
            var oControl = oGroup.getControl();                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
            switch (oControl.getMetadata().getName()) {                                                                                                                                                                                                        
              case "sap.m.Input":                                                                                                                                                                                                                              
                if (oControl.getValue()) {                                                                                                                                                                                                                     
                  aFilterItemFilter.push(                                                                                                                                                                                                                      
                    new Filter({                                                                                                                                                                                                                               
                      path: oControl.getName(),                                                                                                                                                                                                                
                      operator: FilterOperator.Contains,                                                                                                                                                                                                       
                      value1: oControl.getValue().replace(/(^[0]*)/gi, ""),                                                                                                                                                                                    
                    })                                                                                                                                                                                                                                         
                  );                                                                                                                                                                                                                                           
                }                                                                                                                                                                                                                                              
                if (sBaicValue) {                                                                                                                                                                                                                              
                  aBaicSerachFilter.push(                                                                                                                                                                                                                      
                    new Filter({                                                                                                                                                                                                                               
                      path: oControl.getName(),                                                                                                                                                                                                                
                      operator: FilterOperator.Contains,                                                                                                                                                                                                       
                      value1: sBaicValue,                                                                                                                                                                                                                      
                    })                                                                                                                                                                                                                                         
                  );                                                                                                                                                                                                                                           
                }                                                                                                                                                                                                                                              
                break;                                                                                                                                                                                                                                         
              case "sap.m.MultiInput":                                                                                                                                                                                                                         
                var rContains =                                                                                                                                                                                                                                
                  /\*([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]+)\*/;                                                                                                                                                                                            
                var rLE = /<=([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]+)/;                                                                                                                                                                                      
                var rGE = />=([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]+)/;                                                                                                                                                                                      
                var rNE = /!\(=([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]*)\)/;                                                                                                                                                                                  
                var rEQ = /=([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]*)/;                                                                                                                                                                                       
                var rSW = /([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]+)\*/;                                                                                                                                                                                      
                var rEW = /\*([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]+)/;                                                                                                                                                                                      
                var rBT =                                                                                                                                                                                                                                      
                  /([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]+)\.\.\.([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]+)/;                                                                                                                                                
                var rLT = /<([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]+)/;                                                                                                                                                                                       
                var rGT = />([- ,가-힣`~!@#$%^&*|\\\'\";:\/?0-9a-zA-Z]+)/;                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
                _.forEach(oControl.getTokens(), function (oToken) {                                                                                                                                                                                            
                  var sText = oToken.getText();                                                                                                                                                                                                                
                  var sOperater = "";                                                                                                                                                                                                                          
                  var sValue1 = "";                                                                                                                                                                                                                            
                  var sValue2 = "";                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                  if (sText === "<empty>") {                                                                                                                                                                                                                   
                    sOperater = FilterOperator.EQ;                                                                                                                                                                                                             
                    sValue1 = "";                                                                                                                                                                                                                              
                  } else if (sText === "!(<empty>)") {                                                                                                                                                                                                         
                    sOperater = FilterOperator.NE;                                                                                                                                                                                                             
                    sValue1 = "";                                                                                                                                                                                                                              
                  } else if (sText.match(rContains)) {                                                                                                                                                                                                         
                    // *123* - Contains                                                                                                                                                                                                                        
                    sOperater = FilterOperator.Contains;                                                                                                                                                                                                       
                    sValue1 = sText.match(rContains)[1];                                                                                                                                                                                                       
                  } else if (sText.match(rLE)) {                                                                                                                                                                                                               
                    // <=123 - less than or equal to                                                                                                                                                                                                           
                    sOperater = FilterOperator.LE;                                                                                                                                                                                                             
                    sValue1 = sText.match(rLE)[1];                                                                                                                                                                                                             
                  } else if (sText.match(rGE)) {                                                                                                                                                                                                               
                    // >=123 - greater than or equal to                                                                                                                                                                                                        
                    sOperater = FilterOperator.GE;                                                                                                                                                                                                             
                    sValue1 = sText.match(rGE)[1];                                                                                                                                                                                                             
                  } else if (sText.match(rNE)) {                                                                                                                                                                                                               
                    // !(=123) - not equal to                                                                                                                                                                                                                  
                    sOperater = FilterOperator.NE;                                                                                                                                                                                                             
                    sValue1 = sText.match(rNE)[1];                                                                                                                                                                                                             
                  } else if (sText.match(rEQ)) {                                                                                                                                                                                                               
                    // =123 - equal to                                                                                                                                                                                                                         
                    sOperater = FilterOperator.EQ;                                                                                                                                                                                                             
                    sValue1 = sText.match(rEQ)[1];                                                                                                                                                                                                             
                  } else if (sText.match(rSW)) {                                                                                                                                                                                                               
                    // 123* - start with                                                                                                                                                                                                                       
                    sOperater = FilterOperator.StartsWith;                                                                                                                                                                                                     
                    sValue1 = sText.match(rSW)[1];                                                                                                                                                                                                             
                  } else if (sText.match(rEW)) {                                                                                                                                                                                                               
                    // *123 - ends with                                                                                                                                                                                                                        
                    sOperater = FilterOperator.EndsWith;                                                                                                                                                                                                       
                    sValue1 = sText.match(rEW)[1];                                                                                                                                                                                                             
                  } else if (sText.match(rBT)) {                                                                                                                                                                                                               
                    // 123…123 - between                                                                                                                                                                                                                       
                    sOperater = FilterOperator.BT;                                                                                                                                                                                                             
                    sValue1 = sText.match(rBT)[1];                                                                                                                                                                                                             
                    sValue2 = sText.match(rBT)[2];                                                                                                                                                                                                             
                  } else if (sText.match(rLT)) {                                                                                                                                                                                                               
                    // <123 - less than                                                                                                                                                                                                                        
                    sOperater = FilterOperator.LT;                                                                                                                                                                                                             
                    sValue1 = sText.match(rLT)[1];                                                                                                                                                                                                             
                  } else if (sText.match(rGT)) {                                                                                                                                                                                                               
                    // >123 - greater than                                                                                                                                                                                                                     
                    sOperater = FilterOperator.GT;                                                                                                                                                                                                             
                    sValue1 = sText.match(rGT)[1];                                                                                                                                                                                                             
                  } else {                                                                                                                                                                                                                                     
                    sOperater = FilterOperator.Contains;                                                                                                                                                                                                       
                    sValue1 = sText;                                                                                                                                                                                                                           
                  }                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                  var oFilter = new Filter({                                                                                                                                                                                                                   
                    path: oControl.getName(),                                                                                                                                                                                                                  
                    operator: sOperater,                                                                                                                                                                                                                       
                    value1: sValue1,                                                                                                                                                                                                                           
                    value2: sValue2,                                                                                                                                                                                                                           
                  });                                                                                                                                                                                                                                          
                  aFilterItemFilter.push(oFilter);                                                                                                                                                                                                             
                });                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                if (sBaicValue) {                                                                                                                                                                                                                              
                  aBaicSerachFilter.push(                                                                                                                                                                                                                      
                    new Filter({                                                                                                                                                                                                                               
                      path: oControl.getName(),                                                                                                                                                                                                                
                      operator: FilterOperator.Contains,                                                                                                                                                                                                       
                      value1: sBaicValue,                                                                                                                                                                                                                      
                    })                                                                                                                                                                                                                                         
                  );                                                                                                                                                                                                                                           
                }                                                                                                                                                                                                                                              
                break;                                                                                                                                                                                                                                         
              case "sap.m.MultiComboBox":                                                                                                                                                                                                                      
                var aItems = oControl.getSelectedKeys();                                                                                                                                                                                                       
                var aFilterOR = [];                                                                                                                                                                                                                            
                if (aItems.length > 0) {                                                                                                                                                                                                                       
                  _.forEach(aItems, function (oItem) {                                                                                                                                                                                                         
                    aFilterOR.push(                                                                                                                                                                                                                            
                      new Filter({                                                                                                                                                                                                                             
                        path: oControl.getName(),                                                                                                                                                                                                              
                        operator: FilterOperator.EQ,                                                                                                                                                                                                           
                        // operator: FilterOperator.Contains,                                                                                                                                                                                                  
                        value1: oItem,                                                                                                                                                                                                                         
                      })                                                                                                                                                                                                                                       
                    );                                                                                                                                                                                                                                         
                  });                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
                  aFilterItemFilter.push(                                                                                                                                                                                                                      
                    new Filter({                                                                                                                                                                                                                               
                      filters: aFilterOR,                                                                                                                                                                                                                      
                      bAnd: false,                                                                                                                                                                                                                             
                    })                                                                                                                                                                                                                                         
                  );                                                                                                                                                                                                                                           
                }                                                                                                                                                                                                                                              
                break;                                                                                                                                                                                                                                         
            }                                                                                                                                                                                                                                                  
          }.bind(this),                                                                                                                                                                                                                                        
          []                                                                                                                                                                                                                                                   
        );                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
        // Make Filnal Filter                                                                                                                                                                                                                                  
        var aFinalFilter = [];                                                                                                                                                                                                                                 
        if (aBaicSerachFilter.length > 0 && aFilterItemFilter.length > 0) {                                                                                                                                                                                    
          aFinalFilter = new Filter({                                                                                                                                                                                                                          
            filters: [                                                                                                                                                                                                                                         
              new Filter({                                                                                                                                                                                                                                     
                filters: aBaicSerachFilter,                                                                                                                                                                                                                    
                bAnd: false,                                                                                                                                                                                                                                   
              }),                                                                                                                                                                                                                                              
              new Filter({                                                                                                                                                                                                                                     
                filters: aFilterItemFilter,                                                                                                                                                                                                                    
                bAnd: true,                                                                                                                                                                                                                                    
              }),                                                                                                                                                                                                                                              
            ],                                                                                                                                                                                                                                                 
            bAnd: true,                                                                                                                                                                                                                                        
          });                                                                                                                                                                                                                                                  
        } else if (aBaicSerachFilter.length > 0) {                                                                                                                                                                                                             
          aFinalFilter = new Filter({                                                                                                                                                                                                                          
            filters: aBaicSerachFilter,                                                                                                                                                                                                                        
            bAnd: false,                                                                                                                                                                                                                                       
          });                                                                                                                                                                                                                                                  
        } else if (aFilterItemFilter.length > 0) {                                                                                                                                                                                                             
          aFinalFilter = new Filter({                                                                                                                                                                                                                          
            filters: aFilterItemFilter,                                                                                                                                                                                                                        
            bAnd: true,                                                                                                                                                                                                                                        
          });                                                                                                                                                                                                                                                  
        } else {                                                                                                                                                                                                                                               
          aFinalFilter = null;                                                                                                                                                                                                                                 
        }                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
        return aFinalFilter;                                                                                                                                                                                                                                   
      },                                                                                                                                                                                                                                                       
      /**************************************************************                                                                                                                                                                                          
       * Formatter                                                                                                                                                                                                                                             
       *************************************************************/                                                                                                                                                                                          
    });                                                                                                                                                                                                                                                        
  }                                                                                                                                                                                                                                                            
);                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               